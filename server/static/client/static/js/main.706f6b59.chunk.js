(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(2),r=n.n(c),s=(n(15),n(6)),i=n(3),u=n(4),l=n(7),m=n(5),w=n(8),f="http://localhost:4000/api/tweets/",h=function(t){var e=t.content,n=t.date;return o.a.createElement("article",{className:"tweets-item"},o.a.createElement("span",{className:"tweets-item-date"},n),o.a.createElement("p",{className:"tweets-item-content"},e))},p=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(l.a)(this,Object(m.a)(e).call(this,t))).submit=function(){var t=n.newInputRef.value;fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t})}).then(function(t){if(t.ok)return t.json();throw new Error("ERROR ".concat(t.status," (").concat(t.statusText,")"))}).then(function(t){n.setState(function(e){var n=e.tweets;return{tweets:[t].concat(Object(s.a)(n))}})}).catch(console.error),n.newInputRef.value=""},n.state={tweets:!1},n.newInputRef=o.a.createRef(),n}return Object(w.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch(f,{method:"GET"}).then(function(t){if(t.ok)return t.json();throw new Error("ERROR ".concat(t.status," (").concat(t.statusText,")"))}).then(function(e){t.setState(function(){return{tweets:e}})}).catch(console.error)}},{key:"convertTime",value:function(t){var e=new Date(t),n=["Jan","Feb","March","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()];return"".concat(e.getDate()," ").concat(n,", ").concat(e.getFullYear())}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"tweets"},o.a.createElement("form",{className:"tweets-submit",onSubmit:function(e){e.preventDefault(),t.submit()}},o.a.createElement("input",{placeholder:"Tweet",type:"text",ref:function(e){return t.newInputRef=e}}),o.a.createElement("button",{type:"submit"},"Submit")),this.state.tweets?this.state.tweets.map(function(e){var n=e.id,a=e.date,c=e.content;return o.a.createElement(h,{key:n,date:t.convertTime(a),content:c})}):o.a.createElement("div",{className:"tweets-loading"}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){t.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.706f6b59.chunk.js.map